<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DropVault</title>
<style>
body { background-color: #121212; color: #eee; font-family: sans-serif; text-align: center; padding: 50px; }
#drop-area { border: 2px dashed #1e90ff; padding: 50px; cursor: pointer; margin-bottom: 20px; }
input, button { padding: 10px; margin: 5px; border-radius: 5px; border: none; }
button { background-color: #1e90ff; color: white; cursor: pointer; }
button:hover { background-color: #005f99; }
</style>
</head>
<body>
<h1>DropVault</h1>
<div id="drop-area">
  <p>Drag & Drop your file here or click to select</p>
  <input type="file" id="fileElem" name="file">
</div>
<input type="text" id="username" placeholder="Optional name">
<button id="uploadBtn">Upload</button>

<script>
const dropArea = document.getElementById('drop-area');
const fileInput = document.getElementById('fileElem');
const uploadBtn = document.getElementById('uploadBtn');

dropArea.addEventListener('click', () => fileInput.click());

uploadBtn.addEventListener('click', async () => {
  const file = fileInput.files[0];
  if (!file) return alert('Please select a file');
  const formData = new FormData();
  formData.append('file', file);
  formData.append('username', document.getElementById('username').value);

  const res = await fetch('/upload', { method: 'POST', body: formData });
  const text = await res.text();
  alert(text);
  fileInput.value = '';
  document.getElementById('username').value = '';
});
</script>
</body>
</html>
